<div class="min-h-screen relative flex items-center justify-center px-4 overflow-hidden"
     style="background: linear-gradient(135deg, oklch(13% 0.028 261.692) 0%, oklch(30% 0.03 250) 30%, oklch(52% 0.12 165) 65%, oklch(69% 0.17 162.48) 100%);">

  <!-- Animated Background Glow -->
  <div class="absolute inset-0">
    <div class="absolute top-1/4 left-1/4 w-96 h-96 bg-primary/5 rounded-full filter blur-[100px] animate-glow"></div>
    <div class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-secondary/5 rounded-full filter blur-[100px] animate-glow-delay"></div>
    <div class="absolute top-1/2 left-1/2 w-96 h-96 bg-accent/5 rounded-full filter blur-[100px] animate-glow-delay-2"></div>
  </div>

  <!-- Grid Pattern -->
  <div class="absolute inset-0 bg-grid opacity-5"></div>

  <!-- Animated Setup Cards Background -->
  <div class="absolute inset-0 overflow-hidden">
    <!-- Top Left Setup Card -->
    <div class="absolute -top-20 -left-20 w-[35rem] h-[35rem] transform -rotate-12 opacity-30 blur-[1px] animate-float-slow">
      <div class="w-full h-full bg-base-100 rounded-xl p-8 border-2 border-primary/30 shadow-lg shadow-primary/5">
        <div class="text-lg font-mono mb-4 text-primary/90 flex items-center gap-2">
          <i class="fas fa-gamepad text-xl"></i>
          <span>> setup show --theme=gaming</span>
        </div>
        <div class="space-y-4 font-mono text-base">
          <div class="flex items-center gap-3 hover:text-primary transition-colors group">
            <i class="fas fa-microchip text-primary text-xl group-hover:animate-pulse"></i>
            <span>CPU: AMD Ryzen 9 7950X</span>
          </div>
          <div class="flex items-center gap-3 hover:text-secondary transition-colors group">
            <i class="fas fa-tv text-secondary text-xl group-hover:animate-pulse"></i>
            <span>GPU: RTX 4090 24GB</span>
          </div>
          <div class="flex items-center gap-3 hover:text-accent transition-colors group">
            <i class="fas fa-memory text-accent text-xl group-hover:animate-pulse"></i>
            <span>RAM: 64GB DDR5 6400MHz</span>
          </div>
          <div class="mt-6 text-sm text-primary/80 animate-pulse flex items-center gap-2">
            <i class="fas fa-tag"></i>
            <span>Category: Gaming Setup</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Bottom Right Setup Card -->
    <div class="absolute -bottom-20 -right-20 w-[35rem] h-[35rem] transform rotate-12 opacity-30 blur-[1px] animate-float-slow-reverse">
      <div class="w-full h-full bg-base-100 rounded-xl p-8 border-2 border-secondary/30 shadow-lg shadow-secondary/5">
        <div class="text-lg font-mono mb-4 text-secondary/90 flex items-center gap-2">
          <i class="fas fa-laptop-code text-xl"></i>
          <span>> setup show --theme=productivity</span>
        </div>
        <div class="space-y-4 font-mono text-base">
          <div class="flex items-center gap-3 hover:text-primary transition-colors group">
            <i class="fas fa-keyboard text-primary text-xl group-hover:animate-pulse"></i>
            <span>Keyboard: Keychron Q1 Pro</span>
          </div>
          <div class="flex items-center gap-3 hover:text-secondary transition-colors group">
            <i class="fas fa-mouse text-secondary text-xl group-hover:animate-pulse"></i>
            <span>Mouse: Logitech G Pro X</span>
          </div>
          <div class="flex items-center gap-3 hover:text-accent transition-colors group">
            <i class="fas fa-desktop text-accent text-xl group-hover:animate-pulse"></i>
            <span>Monitor: LG 27" 4K 144Hz</span>
          </div>
          <div class="mt-6 text-sm text-secondary/80 animate-pulse flex items-center gap-2">
            <i class="fas fa-tag"></i>
            <span>Category: Productivity Setup</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Center Terminal Effect -->
    <div class="absolute inset-0 flex items-center justify-center opacity-40">
      <div class="font-mono text-base space-y-3 animate-typing backdrop-blur-sm bg-base-100/10 p-8 rounded-xl border border-base-content/10 shadow-xl">
        <div class="flex items-center gap-3">
          <i class="fas fa-terminal text-primary text-xl animate-blink"></i>
          <span class="text-primary text-lg">> setup create --new-user</span>
        </div>
        <div class="text-secondary/90 animate-slide-right flex items-center gap-2">
          <i class="fas fa-circle-notch fa-spin text-sm"></i>
          <span>Initializing new profile...</span>
        </div>
        <div class="text-accent/90 animate-slide-left flex items-center gap-2">
          <i class="fas fa-code-branch text-sm"></i>
          <span>Setting up workspace...</span>
        </div>
        <div class="text-success/90 animate-slide-up flex items-center gap-2">
          <i class="fas fa-check-circle text-sm"></i>
          <span>Ready to showcase your setup!</span>
        </div>
      </div>
    </div>

    <!-- Floating Icons -->
    <div class="absolute inset-0 pointer-events-none">
      <i class="fas fa-microchip absolute top-1/4 left-1/4 text-5xl text-primary/40 animate-float-icon"></i>
      <i class="fas fa-keyboard absolute top-3/4 right-1/4 text-5xl text-secondary/40 animate-float-icon-delay-1"></i>
      <i class="fas fa-desktop absolute bottom-1/4 left-1/3 text-5xl text-accent/40 animate-float-icon-delay-2"></i>
      <i class="fas fa-mouse absolute top-1/3 right-1/3 text-5xl text-success/40 animate-float-icon-delay-3"></i>
      <i class="fas fa-memory absolute bottom-1/3 right-1/2 text-5xl text-warning/40 animate-float-icon-delay-4"></i>
      <i class="fas fa-headset absolute top-1/2 left-1/4 text-5xl text-info/40 animate-float-icon-delay-5"></i>
      <i class="fas fa-gamepad absolute bottom-1/4 right-1/4 text-5xl text-error/40 animate-float-icon-delay-6"></i>
    </div>
  </div>

  <!-- Additional Floating Tech Icons -->
  <div class="absolute inset-0 pointer-events-none">
    <i class="fas fa-code absolute top-[15%] right-[20%] text-4xl text-info/30 animate-float-icon-delay-7"></i>
    <i class="fas fa-wifi absolute bottom-[25%] left-[15%] text-4xl text-success/30 animate-float-icon-delay-8"></i>
    <i class="fas fa-server absolute top-[35%] right-[25%] text-4xl text-warning/30 animate-float-icon-delay-9"></i>
    <i class="fas fa-network-wired absolute bottom-[20%] right-[30%] text-4xl text-error/30 animate-float-icon-delay-10"></i>
  </div>

  <!-- Main Register Container -->
  <div class="w-full max-w-md bg-base-100/95 backdrop-blur-xl shadow-2xl ring-1 ring-base-300 rounded-2xl transition-all duration-500 hover:shadow-[0_0_50px_rgba(0,0,0,0.2)] relative z-10">
    <div class="px-8 py-10">
      <!-- Title with Icon -->
      <div class="text-center mb-6">
        <h2 class="text-2xl font-extrabold">Create an Account</h2>
        <p class="text-base-content/60 text-sm mt-1">Join the setup showcase community</p>
      </div>

      <!-- Error with enhanced animation -->
      <div *ngIf="error" class="alert alert-error mb-5 flex items-center gap-2 text-sm py-3 px-4 rounded-lg animate-shake">
        <i class="fas fa-exclamation-circle text-red-600 animate-pulse"></i>
        <span>{{ error }}</span>
      </div>

      <!-- Register Form -->
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="space-y-5">
        <!-- Email with floating label and icon animation -->
        <div class="form-control relative">
          <label class="label text-base-content">
            <span class="flex items-center gap-2">
              <i class="fas fa-envelope text-primary/70"></i>
              Email
            </span>
          </label>
          <div class="relative group">
            <input type="email"
                   formControlName="email"
                   placeholder="you@example.com"
                   class="input input-bordered w-full bg-base-200 pl-11 transition-all duration-300 focus:ring-2 focus:ring-primary/20"
                   [ngClass]="{'input-error': registerForm.get('email')?.invalid && registerForm.get('email')?.touched}" />
            <i class="fas fa-envelope absolute left-3 top-1/2 transform -translate-y-1/2 text-base-content/50 group-hover:text-primary/70 transition-colors duration-300"></i>
          </div>
          <label class="label" *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
            <span class="label-text-alt text-error flex items-center gap-1 animate-slide-right">
              <i class="fas fa-info-circle text-xs"></i>
              <ng-container *ngIf="registerForm.get('email')?.errors?.['required']">
                Email is required
              </ng-container>
              <ng-container *ngIf="registerForm.get('email')?.errors?.['email']">
                Please enter a valid email address
              </ng-container>
            </span>
          </label>
        </div>

        <!-- Username with floating label and icon animation -->
        <div class="form-control relative">
          <label class="label text-base-content">
            <span class="flex items-center gap-2">
              <i class="fas fa-user text-primary/70"></i>
              Username
            </span>
          </label>
          <div class="relative group">
            <input type="text"
                   formControlName="username"
                   placeholder="username"
                   class="input input-bordered w-full bg-base-200 pl-11 transition-all duration-300 focus:ring-2 focus:ring-primary/20"
                   [ngClass]="{'input-error': registerForm.get('username')?.invalid && registerForm.get('username')?.touched}" />
            <i class="fas fa-user absolute left-3 top-1/2 transform -translate-y-1/2 text-base-content/50 group-hover:text-primary/70 transition-colors duration-300"></i>
          </div>
          <label class="label" *ngIf="registerForm.get('username')?.invalid && registerForm.get('username')?.touched">
            <span class="label-text-alt text-error flex items-center gap-1 animate-slide-right">
              <i class="fas fa-info-circle text-xs"></i>
              <ng-container *ngIf="registerForm.get('username')?.errors?.['required']">
                Username is required
              </ng-container>
              <ng-container *ngIf="registerForm.get('username')?.errors?.['minlength']">
                Username must be at least 3 characters
              </ng-container>
            </span>
          </label>
        </div>

        <!-- Password with floating label and icon animation -->
        <div class="form-control relative">
          <label class="label text-base-content">
            <span class="flex items-center gap-2">
              <i class="fas fa-lock text-primary/70"></i>
              Password
            </span>
          </label>
          <div class="relative group">
            <input type="password"
                   formControlName="password"
                   placeholder="••••••••"
                   class="input input-bordered w-full bg-base-200 pl-11 transition-all duration-300 focus:ring-2 focus:ring-primary/20"
                   [ngClass]="{'input-error': registerForm.get('password')?.invalid && registerForm.get('password')?.touched}" />
            <i class="fas fa-lock absolute left-3 top-1/2 transform -translate-y-1/2 text-base-content/50 group-hover:text-primary/70 transition-colors duration-300"></i>
          </div>
          <label class="label" *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched">
            <span class="label-text-alt text-error flex items-center gap-1 animate-slide-right">
              <i class="fas fa-info-circle text-xs"></i>
              <ng-container *ngIf="registerForm.get('password')?.errors?.['required']">
                Password is required
              </ng-container>
              <ng-container *ngIf="registerForm.get('password')?.errors?.['minlength']">
                Password must be at least 6 characters
              </ng-container>
            </span>
          </label>
        </div>

        <!-- Confirm Password with floating label and icon animation -->
        <div class="form-control relative">
          <label class="label text-base-content">
            <span class="flex items-center gap-2">
              <i class="fas fa-shield-alt text-primary/70"></i>
              Confirm Password
            </span>
          </label>
          <div class="relative group">
            <input type="password"
                   formControlName="passwordConfirm"
                   placeholder="••••••••"
                   class="input input-bordered w-full bg-base-200 pl-11 transition-all duration-300 focus:ring-2 focus:ring-primary/20"
                   [ngClass]="{'input-error': (registerForm.get('passwordConfirm')?.invalid && registerForm.get('passwordConfirm')?.touched) || registerForm.errors?.['passwordMismatch']}" />
            <i class="fas fa-shield-alt absolute left-3 top-1/2 transform -translate-y-1/2 text-base-content/50 group-hover:text-primary/70 transition-colors duration-300"></i>
          </div>
          <label class="label" *ngIf="registerForm.get('passwordConfirm')?.touched && (registerForm.get('passwordConfirm')?.invalid || registerForm.errors?.['passwordMismatch'])">
            <span class="label-text-alt text-error flex items-center gap-1 animate-slide-right">
              <i class="fas fa-info-circle text-xs"></i>
              <ng-container *ngIf="registerForm.get('passwordConfirm')?.errors?.['required']">
                Please confirm your password
              </ng-container>
              <ng-container *ngIf="registerForm.errors?.['passwordMismatch']">
                Passwords do not match
              </ng-container>
            </span>
          </label>
        </div>

        <!-- Submit Button with loading animation -->
        <button type="submit"
                class="btn btn-primary w-full group relative overflow-hidden transition-all duration-300 hover:scale-[1.02]"
                [disabled]="registerForm.invalid || loading || !passwordsMatch">
          <span class="relative z-10 flex items-center justify-center gap-2">
            <i class="fas fa-user-plus"></i>
            <span *ngIf="!loading">Create Account</span>
            <span *ngIf="loading" class="flex items-center gap-2">
              <span class="loading loading-spinner loading-sm"></span>
              Creating Account...
            </span>
          </span>
          <div class="absolute inset-0 bg-gradient-to-r from-primary to-primary-focus transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left"></div>
        </button>
      </form>

      <!-- Divider with enhanced design -->
      <div class="flex items-center my-6">
        <div class="flex-grow h-px bg-base-300"></div>
        <span class="mx-4 text-sm text-base-content/70 flex items-center gap-2">
          <i class="fas fa-link text-xs rotate-45"></i>
          or continue with
        </span>
        <div class="flex-grow h-px bg-base-300"></div>
      </div>

      <!-- OAuth Button with hover effect -->
      <button class="btn btn-outline w-full bg-white text-black border border-gray-200 hover:border-gray-400 group relative overflow-hidden"
              (click)="registerWithGoogle()">
        <span class="relative z-10 flex items-center justify-center gap-2">
          <i class="fab fa-google text-[#4285F4] group-hover:scale-110 transition-transform"></i>
          Sign up with Google
        </span>
      </button>

      <!-- Login Link with hover animation -->
      <div class="text-center mt-6 text-sm">
        Already have an account?
        <a routerLink="/login" class="link link-primary font-semibold inline-flex items-center gap-1 hover:gap-2 transition-all">
          Login here
          <i class="fas fa-arrow-right text-xs"></i>
        </a>
      </div>

      <!-- Footer with subtle animation -->
      <p class="text-center text-xs text-base-content/40 mt-10 group">
        &copy; {{ getCurrentYear() }}
        <span class="inline-flex items-center gap-1">
          setupshowroom
          <i class="fas fa-heart text-red-500/40 group-hover:text-red-500 transition-colors"></i>
        </span>
      </p>
    </div>
  </div>
</div>

<style>
@keyframes typing {
  0% { opacity: 0; transform: translateY(10px); }
  100% { opacity: 1; transform: translateY(0); }
}

@keyframes float-slow {
  0%, 100% { transform: translate(0, 0) rotate(-12deg); }
  50% { transform: translate(20px, -20px) rotate(-8deg); }
}

@keyframes float-slow-reverse {
  0%, 100% { transform: translate(0, 0) rotate(12deg); }
  50% { transform: translate(-20px, 20px) rotate(8deg); }
}

@keyframes float-icon {
  0%, 100% { transform: translate(0, 0); }
  50% { transform: translate(10px, -10px); }
}

@keyframes slide-right {
  0% { opacity: 0; transform: translateX(-20px); }
  100% { opacity: 1; transform: translateX(0); }
}

@keyframes slide-left {
  0% { opacity: 0; transform: translateX(20px); }
  100% { opacity: 1; transform: translateX(0); }
}

@keyframes slide-up {
  0% { opacity: 0; transform: translateY(20px); }
  100% { opacity: 1; transform: translateY(0); }
}

@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.3; }
}

@keyframes glow {
  0%, 100% { opacity: 0.3; transform: scale(1); }
  50% { opacity: 0.5; transform: scale(1.2); }
}

.animate-typing > div {
  animation: typing 1s ease-out forwards;
  opacity: 0;
}

.animate-float-slow {
  animation: float-slow 12s ease-in-out infinite;
}

.animate-float-slow-reverse {
  animation: float-slow-reverse 12s ease-in-out infinite;
}

.animate-float-icon {
  animation: float-icon 6s ease-in-out infinite;
}

.animate-float-icon-delay-1 {
  animation: float-icon 6s ease-in-out infinite;
  animation-delay: 1s;
}

.animate-float-icon-delay-2 {
  animation: float-icon 6s ease-in-out infinite;
  animation-delay: 2s;
}

.animate-float-icon-delay-3 {
  animation: float-icon 6s ease-in-out infinite;
  animation-delay: 3s;
}

.animate-float-icon-delay-4 {
  animation: float-icon 6s ease-in-out infinite;
  animation-delay: 4s;
}

.animate-float-icon-delay-5 {
  animation: float-icon 6s ease-in-out infinite;
  animation-delay: 5s;
}

.animate-float-icon-delay-6 {
  animation: float-icon 6s ease-in-out infinite;
  animation-delay: 6s;
}

.animate-glow {
  animation: glow 10s ease-in-out infinite;
}

.animate-glow-delay {
  animation: glow 10s ease-in-out infinite;
  animation-delay: 3.33s;
}

.animate-glow-delay-2 {
  animation: glow 10s ease-in-out infinite;
  animation-delay: 6.66s;
}

.animate-blink {
  animation: blink 1s ease-in-out infinite;
}

.animate-slide-right {
  animation: slide-right 0.5s ease-out forwards;
  animation-delay: 0.5s;
  opacity: 0;
}

.animate-slide-left {
  animation: slide-left 0.5s ease-out forwards;
  animation-delay: 1s;
  opacity: 0;
}

.animate-slide-up {
  animation: slide-up 0.5s ease-out forwards;
  animation-delay: 1.5s;
  opacity: 0;
}

.bg-grid {
  background-size: 50px 50px;
  background-image: linear-gradient(to right, rgba(255, 255, 255, 0.05) 1px, transparent 1px),
                    linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
}

.group:hover i {
  transform: scale(1.2);
  transition: transform 0.2s ease-in-out;
}

.animate-typing > div:nth-child(1) { animation-delay: 0s; }
.animate-typing > div:nth-child(2) { animation-delay: 1s; }
.animate-typing > div:nth-child(3) { animation-delay: 2s; }
.animate-typing > div:nth-child(4) { animation-delay: 3s; }

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-5px); }
  75% { transform: translateX(5px); }
}

@keyframes bounce-slow {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}

.animate-shake {
  animation: shake 0.5s ease-in-out;
}

.animate-bounce-slow {
  animation: bounce-slow 3s ease-in-out infinite;
}

.animate-float-icon-delay-7 {
  animation: float-icon 6s ease-in-out infinite;
  animation-delay: 7s;
}

.animate-float-icon-delay-8 {
  animation: float-icon 6s ease-in-out infinite;
  animation-delay: 8s;
}

.animate-float-icon-delay-9 {
  animation: float-icon 6s ease-in-out infinite;
  animation-delay: 9s;
}

.animate-float-icon-delay-10 {
  animation: float-icon 6s ease-in-out infinite;
  animation-delay: 10s;
}

/* Input focus and hover animations */
.input:focus {
  transform: translateY(-1px);
  transition: transform 0.3s ease;
}

.group:hover .input {
  border-color: theme('colors.primary.DEFAULT');
}

/* Button hover animation */
.btn:not(:disabled):hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

/* Error message animation */
.label-text-alt {
  transition: all 0.3s ease;
}
</style>
